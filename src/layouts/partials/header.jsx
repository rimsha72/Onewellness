import React, { useEffect, useState } from "react";
import profile from "../../assets/profile.png";

export default function Header() {
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleNotificationClick = () => {
    setIsModalOpen(true);
  };

  const closeModal = () => {
    setIsModalOpen(false);
  };

  useEffect(() => {
    if (isModalOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'auto';
    }
  }, [isModalOpen]);

  return (
    <div className="max-w-screen-3xl mx-auto w-full">
      <div
        className={`transition-all duration-1000 ease-in-out transform border-b border-gray-250`}
      >
        <nav>
          <div className="flex items-end space-x-2 lg:px-4 px-2 py-4 w-full justify-end">
            <button onClick={handleNotificationClick} className="cursor-pointer">
              <svg width="46" height="40" viewBox="0 0 46 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_2_3790)">
                  <path d="M16.5684 26.75C16.8591 27.4185 17.3388 27.9876 17.9485 28.3873C18.5582 28.787 19.2713 29 20.0004 29C20.7294 29 21.4426 28.787 22.0522 28.3873C22.6619 27.9876 23.1416 27.4185 23.4324 26.75H16.5684Z" fill="#727A90" />
                  <path d="M27.7939 20.4118L26.4919 16.1195C26.0749 14.6183 25.1684 13.2993 23.9163 12.3721C22.6641 11.4449 21.1381 10.9626 19.5805 11.0017C18.023 11.0408 16.5231 11.5992 15.3191 12.5881C14.1151 13.577 13.2759 14.9397 12.9349 16.46L11.9239 20.6128C11.7895 21.1646 11.7822 21.7397 11.9026 22.2947C12.0229 22.8498 12.2678 23.3702 12.6187 23.8168C12.9696 24.2634 13.4173 24.6245 13.9281 24.8727C14.4389 25.121 14.9994 25.25 15.5674 25.25H24.2051C24.7907 25.25 25.3681 25.1129 25.8911 24.8497C26.4142 24.5864 26.8683 24.2044 27.2171 23.7341C27.566 23.2638 27.7998 22.7183 27.9 22.1414C28.0001 21.5645 27.9638 20.9721 27.7939 20.4118V20.4118Z" fill="#727A90" />
                </g>
                <rect x="21" y="4" width="25" height="18" rx="9" fill="#F05D3D" />
                <path d="M30.055 9.655C30.515 9.655 30.93 9.765 31.3 9.985C31.67 10.205 31.9633 10.505 32.18 10.885C32.4 11.265 32.51 11.6967 32.51 12.18V14.575C32.51 15.0783 32.4017 15.5233 32.185 15.91C31.9683 16.2967 31.6683 16.6 31.285 16.82C30.905 17.04 30.4683 17.15 29.975 17.15C29.5817 17.15 29.2133 17.0683 28.87 16.905C28.53 16.7417 28.2417 16.51 28.005 16.21L28.67 15.62C28.8167 15.8267 29.005 15.9933 29.235 16.12C29.465 16.2433 29.7117 16.305 29.975 16.305C30.295 16.305 30.5767 16.2283 30.82 16.075C31.0667 15.9217 31.2583 15.7217 31.395 15.475C31.535 15.2283 31.605 14.9617 31.605 14.675V13.23L31.8 13.45C31.5933 13.75 31.3283 13.99 31.005 14.17C30.6817 14.35 30.33 14.44 29.95 14.44C29.5033 14.44 29.1033 14.335 28.75 14.125C28.3967 13.915 28.1167 13.6317 27.91 13.275C27.7033 12.915 27.6 12.5117 27.6 12.065C27.6 11.6183 27.7117 11.2133 27.935 10.85C28.1583 10.4833 28.455 10.1933 28.825 9.98C29.1983 9.76333 29.6083 9.655 30.055 9.655ZM30.055 10.515C29.7683 10.515 29.5067 10.585 29.27 10.725C29.0367 10.8617 28.85 11.0483 28.71 11.285C28.57 11.5183 28.5 11.7783 28.5 12.065C28.5 12.3517 28.5683 12.6133 28.705 12.85C28.845 13.0833 29.0317 13.27 29.265 13.41C29.5017 13.55 29.7633 13.62 30.05 13.62C30.3367 13.62 30.5983 13.55 30.835 13.41C31.0717 13.27 31.2583 13.0833 31.395 12.85C31.535 12.6133 31.605 12.3517 31.605 12.065C31.605 11.7817 31.535 11.5233 31.395 11.29C31.2583 11.0533 31.0717 10.865 30.835 10.725C30.6017 10.585 30.3417 10.515 30.055 10.515ZM36.3159 9.655C36.7759 9.655 37.1909 9.765 37.5609 9.985C37.9309 10.205 38.2243 10.505 38.4409 10.885C38.6609 11.265 38.7709 11.6967 38.7709 12.18V14.575C38.7709 15.0783 38.6626 15.5233 38.4459 15.91C38.2293 16.2967 37.9293 16.6 37.5459 16.82C37.1659 17.04 36.7293 17.15 36.2359 17.15C35.8426 17.15 35.4743 17.0683 35.1309 16.905C34.7909 16.7417 34.5026 16.51 34.2659 16.21L34.9309 15.62C35.0776 15.8267 35.2659 15.9933 35.4959 16.12C35.7259 16.2433 35.9726 16.305 36.2359 16.305C36.5559 16.305 36.8376 16.2283 37.0809 16.075C37.3276 15.9217 37.5193 15.7217 37.6559 15.475C37.7959 15.2283 37.8659 14.9617 37.8659 14.675V13.23L38.0609 13.45C37.8543 13.75 37.5893 13.99 37.2659 14.17C36.9426 14.35 36.5909 14.44 36.2109 14.44C35.7643 14.44 35.3643 14.335 35.0109 14.125C34.6576 13.915 34.3776 13.6317 34.1709 13.275C33.9643 12.915 33.8609 12.5117 33.8609 12.065C33.8609 11.6183 33.9726 11.2133 34.1959 10.85C34.4193 10.4833 34.7159 10.1933 35.0859 9.98C35.4593 9.76333 35.8693 9.655 36.3159 9.655ZM36.3159 10.515C36.0293 10.515 35.7676 10.585 35.5309 10.725C35.2976 10.8617 35.1109 11.0483 34.9709 11.285C34.8309 11.5183 34.7609 11.7783 34.7609 12.065C34.7609 12.3517 34.8293 12.6133 34.9659 12.85C35.1059 13.0833 35.2926 13.27 35.5259 13.41C35.7626 13.55 36.0243 13.62 36.3109 13.62C36.5976 13.62 36.8593 13.55 37.0959 13.41C37.3326 13.27 37.5193 13.0833 37.6559 12.85C37.7959 12.6133 37.8659 12.3517 37.8659 12.065C37.8659 11.7817 37.7959 11.5233 37.6559 11.29C37.5193 11.0533 37.3326 10.865 37.0959 10.725C36.8626 10.585 36.6026 10.515 36.3159 10.515Z" fill="white" />
                <defs>
                  <clipPath id="clip0_2_3790">
                    <rect width="18" height="18" fill="white" transform="translate(11 11)" />
                  </clipPath>
                </defs>
              </svg>
            </button>
            <div className="flex border-l border-gray-250 px-6 lg:gap-3 gap-2 items-center">
              <img
                src={profile}
                alt="Profile"
                className="w-8 h-8 rounded-full object-cover"
              />
              <div className="flex flex-col">
                <span className="text-sm font-medium text-black-150">Ameanda M.</span>
                <span className="text-xs text-gray-350">Admin</span>
              </div>
              <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.807402 0.75H9.1924C9.34073 0.750622 9.48555 0.795213 9.60853 0.878135C9.73152 0.961057 9.82716 1.07859 9.88335 1.21586C9.93955 1.35313 9.95378 1.50399 9.92424 1.64935C9.8947 1.79471 9.82272 1.92804 9.7174 2.0325L5.5324 6.21749C5.46268 6.28779 5.37973 6.34358 5.28834 6.38166C5.19694 6.41974 5.09891 6.43934 4.9999 6.43934C4.90089 6.43934 4.80286 6.41974 4.71147 6.38166C4.62008 6.34358 4.53712 6.28779 4.4674 6.21749L0.282403 2.0325C0.177086 1.92804 0.105108 1.79471 0.0755692 1.64935C0.0460304 1.50399 0.0602573 1.35313 0.116451 1.21586C0.172646 1.07859 0.268283 0.961057 0.391271 0.878135C0.514259 0.795213 0.659073 0.750622 0.807402 0.75V0.75Z" fill="#727A90" />
              </svg>
            </div>
          </div>
        </nav>
      </div>

      {isModalOpen && (
        <div className="fixed inset-0 bg-black/20 z-50 flex justify-end">
          <div className="w-full max-w-2xl h-screen bg-white shadow-lg flex flex-col rounded-[20px]">
            <div className="flex items-center justify-between px-4 py-6 border-b border-gray-250">
              <div className="flex items-center space-x-2">
                <div className="relative">
                  <svg width="46" height="40" viewBox="0 0 46 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_2_3790)">
                      <path d="M16.5684 26.75C16.8591 27.4185 17.3388 27.9876 17.9485 28.3873C18.5582 28.787 19.2713 29 20.0004 29C20.7294 29 21.4426 28.787 22.0522 28.3873C22.6619 27.9876 23.1416 27.4185 23.4324 26.75H16.5684Z" fill="#727A90" />
                      <path d="M27.7939 20.4118L26.4919 16.1195C26.0749 14.6183 25.1684 13.2993 23.9163 12.3721C22.6641 11.4449 21.1381 10.9626 19.5805 11.0017C18.023 11.0408 16.5231 11.5992 15.3191 12.5881C14.1151 13.577 13.2759 14.9397 12.9349 16.46L11.9239 20.6128C11.7895 21.1646 11.7822 21.7397 11.9026 22.2947C12.0229 22.8498 12.2678 23.3702 12.6187 23.8168C12.9696 24.2634 13.4173 24.6245 13.9281 24.8727C14.4389 25.121 14.9994 25.25 15.5674 25.25H24.2051C24.7907 25.25 25.3681 25.1129 25.8911 24.8497C26.4142 24.5864 26.8683 24.2044 27.2171 23.7341C27.566 23.2638 27.7998 22.7183 27.9 22.1414C28.0001 21.5645 27.9638 20.9721 27.7939 20.4118V20.4118Z" fill="#727A90" />
                    </g>
                    <rect x="21" y="4" width="25" height="18" rx="9" fill="#F05D3D" />
                    <path d="M30.055 9.655C30.515 9.655 30.93 9.765 31.3 9.985C31.67 10.205 31.9633 10.505 32.18 10.885C32.4 11.265 32.51 11.6967 32.51 12.18V14.575C32.51 15.0783 32.4017 15.5233 32.185 15.91C31.9683 16.2967 31.6683 16.6 31.285 16.82C30.905 17.04 30.4683 17.15 29.975 17.15C29.5817 17.15 29.2133 17.0683 28.87 16.905C28.53 16.7417 28.2417 16.51 28.005 16.21L28.67 15.62C28.8167 15.8267 29.005 15.9933 29.235 16.12C29.465 16.2433 29.7117 16.305 29.975 16.305C30.295 16.305 30.5767 16.2283 30.82 16.075C31.0667 15.9217 31.2583 15.7217 31.395 15.475C31.535 15.2283 31.605 14.9617 31.605 14.675V13.23L31.8 13.45C31.5933 13.75 31.3283 13.99 31.005 14.17C30.6817 14.35 30.33 14.44 29.95 14.44C29.5033 14.44 29.1033 14.335 28.75 14.125C28.3967 13.915 28.1167 13.6317 27.91 13.275C27.7033 12.915 27.6 12.5117 27.6 12.065C27.6 11.6183 27.7117 11.2133 27.935 10.85C28.1583 10.4833 28.455 10.1933 28.825 9.98C29.1983 9.76333 29.6083 9.655 30.055 9.655ZM30.055 10.515C29.7683 10.515 29.5067 10.585 29.27 10.725C29.0367 10.8617 28.85 11.0483 28.71 11.285C28.57 11.5183 28.5 11.7783 28.5 12.065C28.5 12.3517 28.5683 12.6133 28.705 12.85C28.845 13.0833 29.0317 13.27 29.265 13.41C29.5017 13.55 29.7633 13.62 30.05 13.62C30.3367 13.62 30.5983 13.55 30.835 13.41C31.0717 13.27 31.2583 13.0833 31.395 12.85C31.535 12.6133 31.605 12.3517 31.605 12.065C31.605 11.7817 31.535 11.5233 31.395 11.29C31.2583 11.0533 31.0717 10.865 30.835 10.725C30.6017 10.585 30.3417 10.515 30.055 10.515ZM36.3159 9.655C36.7759 9.655 37.1909 9.765 37.5609 9.985C37.9309 10.205 38.2243 10.505 38.4409 10.885C38.6609 11.265 38.7709 11.6967 38.7709 12.18V14.575C38.7709 15.0783 38.6626 15.5233 38.4459 15.91C38.2293 16.2967 37.9293 16.6 37.5459 16.82C37.1659 17.04 36.7293 17.15 36.2359 17.15C35.8426 17.15 35.4743 17.0683 35.1309 16.905C34.7909 16.7417 34.5026 16.51 34.2659 16.21L34.9309 15.62C35.0776 15.8267 35.2659 15.9933 35.4959 16.12C35.7259 16.2433 35.9726 16.305 36.2359 16.305C36.5559 16.305 36.8376 16.2283 37.0809 16.075C37.3276 15.9217 37.5193 15.7217 37.6559 15.475C37.7959 15.2283 37.8659 14.9617 37.8659 14.675V13.23L38.0609 13.45C37.8543 13.75 37.5893 13.99 37.2659 14.17C36.9426 14.35 36.5909 14.44 36.2109 14.44C35.7643 14.44 35.3643 14.335 35.0109 14.125C34.6576 13.915 34.3776 13.6317 34.1709 13.275C33.9643 12.915 33.8609 12.5117 33.8609 12.065C33.8609 11.6183 33.9726 11.2133 34.1959 10.85C34.4193 10.4833 34.7159 10.1933 35.0859 9.98C35.4593 9.76333 35.8693 9.655 36.3159 9.655ZM36.3159 10.515C36.0293 10.515 35.7676 10.585 35.5309 10.725C35.2976 10.8617 35.1109 11.0483 34.9709 11.285C34.8309 11.5183 34.7609 11.7783 34.7609 12.065C34.7609 12.3517 34.8293 12.6133 34.9659 12.85C35.1059 13.0833 35.2926 13.27 35.5259 13.41C35.7626 13.55 36.0243 13.62 36.3109 13.62C36.5976 13.62 36.8593 13.55 37.0959 13.41C37.3326 13.27 37.5193 13.0833 37.6559 12.85C37.7959 12.6133 37.8659 12.3517 37.8659 12.065C37.8659 11.7817 37.7959 11.5233 37.6559 11.29C37.5193 11.0533 37.3326 10.865 37.0959 10.725C36.8626 10.585 36.6026 10.515 36.3159 10.515Z" fill="white" />
                    <defs>
                      <clipPath id="clip0_2_3790">
                        <rect width="18" height="18" fill="white" transform="translate(11 11)" />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <h2 className="text-lg font-bold text-black-150">Notifications</h2>
              </div>
              <button onClick={closeModal} className="text-gray-500 hover:text-gray-700 cursor-pointer">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" strokeWidth="2"
                    strokeLinecap="round" strokeLinejoin="round" />
                </svg>
              </button>
            </div>

            <div className="flex-1 overflow-y-auto p-4 space-y-4">
              {[...Array(3)].map((_, idx) => (
                <div key={idx} className="border border-gray-250 rounded-[20px] p-5">
                  <div className="flex items-center text-gray-350 text-xs mb-1">
                    <span className="mr-1"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 0C5.61553 0 4.26216 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.003033 5.6003 -0.13559 7.00777 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C13.998 5.1441 13.2599 3.36479 11.9475 2.05247C10.6352 0.74015 8.8559 0.0020073 7 0V0ZM7.58334 6.92942C7.5834 7.0283 7.55832 7.12557 7.51047 7.2121C7.46261 7.29863 7.39354 7.37158 7.30975 7.42408L5.06975 8.82408C5.00464 8.86476 4.93215 8.89221 4.85643 8.90488C4.7807 8.91754 4.70323 8.91516 4.62842 8.89788C4.55362 8.8806 4.48295 8.84876 4.42045 8.80417C4.35795 8.75958 4.30485 8.70311 4.26417 8.638C4.22349 8.57289 4.19604 8.5004 4.18338 8.42467C4.17071 8.34895 4.17309 8.27147 4.19037 8.19667C4.20765 8.12186 4.23949 8.05119 4.28408 7.9887C4.32867 7.9262 4.38514 7.87309 4.45025 7.83242L6.41667 6.60625V4.08333C6.41667 3.92862 6.47813 3.78025 6.58752 3.67085C6.69692 3.56146 6.84529 3.5 7 3.5C7.15471 3.5 7.30309 3.56146 7.41248 3.67085C7.52188 3.78025 7.58334 3.92862 7.58334 4.08333V6.92942Z" fill="#727A90" />
                    </svg>
                    </span>2min
                  </div>
                  <p className="font-semibold text-sm mb-1">Title Here</p>
                  <p className="text-sm text-gray-350 mb-2">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus finibus vestibulum hendrerit. Nulla est diam, efficitur eu ullamcorper quis, ultricies nec nisl.
                  </p>
                  <button className="text-sm text-green-150 hover:underline font-medium">âœ“ Mark as Read</button>
                </div>
              ))}
            </div>

            <div className="p-4 border-t border-gray-250 flex justify-end cursor-pointer">
              <button className=" bg-green-150 text-white py-2 px-4 rounded-lg text-sm font-medium">
                Clear All Notifications
              </button>
            </div>
          </div>
        </div>

      )}
    </div>
  );
}